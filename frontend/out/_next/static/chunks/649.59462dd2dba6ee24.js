"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[649],{9649:(e,t,s)=>{s.r(t),s.d(t,{default:()=>R});var a=s(7437),r=s(2265),n=s(1764),l=s(3274),i=s(994),o=s(5249),c=s(8604),d=s(2218),m=s(4839),u=s(6164);function x(){for(var e=arguments.length,t=Array(e),s=0;s<e;s++)t[s]=arguments[s];return(0,u.m6)((0,m.W)(t))}let f=(0,d.j)("relative w-full rounded-lg border p-4 [&>svg~*]:pl-7 [&>svg+div]:translate-y-[-3px] [&>svg]:absolute [&>svg]:left-4 [&>svg]:top-4 [&>svg]:text-foreground",{variants:{variant:{default:"bg-background text-foreground",destructive:"border-destructive/50 text-destructive dark:border-destructive [&>svg]:text-destructive"}},defaultVariants:{variant:"default"}}),g=r.forwardRef((e,t)=>{let{className:s,variant:r,...n}=e;return(0,a.jsx)("div",{ref:t,role:"alert",className:x(f({variant:r}),s),...n})});g.displayName="Alert",r.forwardRef((e,t)=>{let{className:s,...r}=e;return(0,a.jsx)("h5",{ref:t,className:x("mb-1 font-medium leading-none tracking-tight",s),...r})}).displayName="AlertTitle";let p=r.forwardRef((e,t)=>{let{className:s,...r}=e;return(0,a.jsx)("div",{ref:t,className:x("text-sm [&_p]:leading-relaxed",s),...r})});p.displayName="AlertDescription";var h=s(2974);let v=(0,d.j)("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0",{variants:{variant:{default:"bg-primary text-primary-foreground hover:bg-primary/90",destructive:"bg-destructive text-destructive-foreground hover:bg-destructive/90",outline:"border border-input bg-background hover:bg-accent hover:text-accent-foreground",secondary:"bg-secondary text-secondary-foreground hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-10 px-4 py-2",sm:"h-9 rounded-md px-3",lg:"h-11 rounded-md px-8",icon:"h-10 w-10"}},defaultVariants:{variant:"default",size:"default"}}),b=r.forwardRef((e,t)=>{let{className:s,variant:r,size:n,asChild:l=!1,...i}=e,o=l?h.g7:"button";return(0,a.jsx)(o,{className:x(v({variant:r,size:n,className:s})),ref:t,...i})});b.displayName="Button";let j=r.forwardRef((e,t)=>{let{className:s,...r}=e;return(0,a.jsx)("div",{ref:t,className:x("rounded-lg border bg-card text-card-foreground shadow-sm",s),...r})});j.displayName="Card",r.forwardRef((e,t)=>{let{className:s,...r}=e;return(0,a.jsx)("div",{ref:t,className:x("flex flex-col space-y-1.5 p-6",s),...r})}).displayName="CardHeader",r.forwardRef((e,t)=>{let{className:s,...r}=e;return(0,a.jsx)("h3",{ref:t,className:x("text-2xl font-semibold leading-none tracking-tight",s),...r})}).displayName="CardTitle",r.forwardRef((e,t)=>{let{className:s,...r}=e;return(0,a.jsx)("p",{ref:t,className:x("text-sm text-muted-foreground",s),...r})}).displayName="CardDescription",r.forwardRef((e,t)=>{let{className:s,...r}=e;return(0,a.jsx)("div",{ref:t,className:x("p-6 pt-0",s),...r})}).displayName="CardContent",r.forwardRef((e,t)=>{let{className:s,...r}=e;return(0,a.jsx)("div",{ref:t,className:x("flex items-center p-6 pt-0",s),...r})}).displayName="CardFooter";let y=r.forwardRef((e,t)=>{let{className:s,type:r,...n}=e;return(0,a.jsx)("input",{type:r,className:x("flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium file:text-foreground placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",s),ref:t,...n})});y.displayName="Input";let N=r.forwardRef((e,t)=>{let{className:s,...r}=e;return(0,a.jsx)("textarea",{className:x("flex min-h-[80px] w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",s),ref:t,...r})});N.displayName="Textarea";let w=s(357).env.NEXT_PUBLIC_API_URL||"http://127.0.0.1:8000",k=e=>{let{onLogin:t,error:s}=e,[i,o]=(0,r.useState)(""),[c,d]=(0,r.useState)(""),[m,u]=(0,r.useState)(!1),x=async e=>{e.preventDefault(),u(!0);try{await t(i,c),console.log("Login successful")}finally{u(!1)}};return(0,a.jsx)("div",{className:"min-h-screen flex items-center justify-center bg-gray-50",children:(0,a.jsxs)(j,{className:"w-full max-w-md p-8 space-y-6",children:[(0,a.jsxs)("div",{className:"space-y-2 text-center",children:[(0,a.jsx)("h1",{className:"text-3xl font-bold",children:"Welcome Back"}),(0,a.jsx)("p",{className:"text-gray-500",children:"Sign in to access AI models"})]}),(0,a.jsxs)("form",{onSubmit:x,className:"space-y-4",children:[(0,a.jsx)(y,{placeholder:"Username",value:i,onChange:e=>o(e.target.value)}),(0,a.jsx)(y,{type:"password",placeholder:"Password",value:c,onChange:e=>d(e.target.value)}),s&&(0,a.jsxs)(g,{variant:"destructive",children:[(0,a.jsx)(n.Z,{className:"h-4 w-4"}),(0,a.jsx)(p,{children:s})]}),(0,a.jsx)(b,{type:"submit",className:"w-full",disabled:m,children:m?(0,a.jsx)(l.Z,{className:"h-4 w-4 animate-spin"}):"Sign In"})]})]})})},C=e=>{let{icon:t,title:s,description:r,onClick:n}=e;return(0,a.jsx)(j,{className:"p-6 cursor-pointer hover:shadow-lg transition-shadow",onClick:n,children:(0,a.jsxs)("div",{className:"space-y-4",children:[(0,a.jsx)("div",{className:"h-12 w-12 rounded-lg bg-primary/10 flex items-center justify-center",children:(0,a.jsx)(t,{className:"h-6 w-6 text-primary"})}),(0,a.jsxs)("div",{children:[(0,a.jsx)("h3",{className:"font-semibold",children:s}),(0,a.jsx)("p",{className:"text-sm text-gray-500",children:r})]})]})})},S=e=>{let{type:t,onBack:s}=e,[o,c]=(0,r.useState)(""),[d,m]=(0,r.useState)([]),[u,x]=(0,r.useState)(!1),[f,h]=(0,r.useState)(null),v=(0,r.useRef)(null),k=()=>{var e;null===(e=v.current)||void 0===e||e.scrollIntoView({behavior:"smooth"})};(0,r.useEffect)(()=>{k()},[d]);let C=async e=>{if(e.preventDefault(),!o.trim())return;let s={role:"user",content:o,timestamp:new Date};m(e=>[...e,s]),x(!0),h(null),c("");try{let e=await fetch("".concat(w,"/generate/").concat(t),{method:"POST",headers:{"Content-Type":"application/json",Authorization:"Bearer ".concat(localStorage.getItem("token"))},body:JSON.stringify({prompt:s.content})});if(!e.ok)throw Error("Generation failed");let a=await e.json(),r={role:"assistant",content:a.generated_content,timestamp:new Date};m(e=>[...e,r])}catch(e){h(e.message)}finally{x(!1)}};return"image"===t?(0,a.jsxs)("div",{className:"max-w-3xl mx-auto p-6 space-y-6",children:[(0,a.jsx)(b,{variant:"ghost",onClick:s,className:"mb-4",children:"← Back to Models"}),(0,a.jsxs)(j,{className:"p-6 space-y-4",children:[(0,a.jsx)("h2",{className:"text-2xl font-bold",children:"Image Generation"}),(0,a.jsxs)("form",{onSubmit:C,className:"space-y-4",children:[(0,a.jsx)(N,{placeholder:"Describe the image you want to generate...",value:o,onChange:e=>c(e.target.value),className:"min-h-[100px]"}),(0,a.jsxs)(b,{type:"submit",disabled:u||!o,className:"w-full",children:[u?(0,a.jsx)(l.Z,{className:"h-4 w-4 animate-spin mr-2"}):(0,a.jsx)(i.Z,{className:"h-4 w-4 mr-2"}),"Generate"]})]}),f&&(0,a.jsxs)(g,{variant:"destructive",children:[(0,a.jsx)(n.Z,{className:"h-4 w-4"}),(0,a.jsx)(p,{children:f})]}),d.length>0&&(0,a.jsx)("div",{className:"space-y-4",children:d.map((e,t)=>"assistant"===e.role&&(0,a.jsx)("div",{className:"mt-4",children:(0,a.jsx)("img",{src:"data:image/png;base64,".concat(e.content),alt:"Generated content",className:"max-w-full rounded-lg shadow-lg"})},t))})]})]}):(0,a.jsxs)("div",{className:"max-w-3xl mx-auto p-6 space-y-6",children:[(0,a.jsx)(b,{variant:"ghost",onClick:s,className:"mb-4",children:"← Back to Models"}),(0,a.jsxs)(j,{className:"p-6",children:[(0,a.jsx)("h2",{className:"text-2xl font-bold mb-4",children:"Chat with AI"}),(0,a.jsxs)("div",{className:"space-y-4",children:[(0,a.jsxs)("div",{className:"space-y-4 mb-4 max-h-[60vh] overflow-y-auto",children:[d.map((e,t)=>(0,a.jsx)("div",{className:"flex ".concat("user"===e.role?"justify-end":"justify-start"),children:(0,a.jsxs)("div",{className:"max-w-[80%] p-3 rounded-lg ".concat("user"===e.role?"bg-primary text-primary-foreground ml-4":"bg-muted mr-4"),children:[(0,a.jsx)("p",{className:"whitespace-pre-wrap break-words",children:e.content}),(0,a.jsx)("p",{className:"text-xs mt-1 opacity-70",children:e.timestamp.toLocaleTimeString()})]})},t)),(0,a.jsx)("div",{ref:v})]}),f&&(0,a.jsxs)(g,{variant:"destructive",children:[(0,a.jsx)(n.Z,{className:"h-4 w-4"}),(0,a.jsx)(p,{children:f})]}),(0,a.jsxs)("form",{onSubmit:C,className:"flex gap-2",children:[(0,a.jsx)(y,{placeholder:"Type your message...",value:o,onChange:e=>c(e.target.value),className:"flex-1"}),(0,a.jsx)(b,{type:"submit",disabled:u||!o,children:u?(0,a.jsx)(l.Z,{className:"h-4 w-4 animate-spin"}):(0,a.jsx)(i.Z,{className:"h-4 w-4"})})]})]})]})]})},I=e=>{let{onLogout:t}=e,[s,n]=(0,r.useState)(null),l=[{type:"text",icon:o.Z,title:"Text Generation",description:"Generate text using LLaMA 3.2"},{type:"image",icon:c.Z,title:"Image Generation",description:"Create images using Stable Diffusion 3.5"}];return s?(0,a.jsx)(S,{type:s,onBack:()=>n(null)}):(0,a.jsx)("div",{className:"min-h-screen bg-gray-50 p-6",children:(0,a.jsxs)("div",{className:"max-w-6xl mx-auto",children:[(0,a.jsxs)("div",{className:"flex justify-between items-center mb-8",children:[(0,a.jsx)("h1",{className:"text-3xl font-bold",children:"AI Models Dashboard"}),(0,a.jsx)(b,{variant:"outline",onClick:t,children:"Sign Out"})]}),(0,a.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:l.map(e=>(0,a.jsx)(C,{...e,onClick:()=>n(e.type)},e.type))})]})})},R=()=>{let[e,t]=(0,r.useState)(localStorage.getItem("token")),[s,n]=(0,r.useState)(null),l=async(e,s)=>{try{let a=await fetch("".concat(w,"/token"),{method:"POST",headers:{"Content-Type":"application/x-www-form-urlencoded"},body:"username=".concat(encodeURIComponent(e),"&password=").concat(encodeURIComponent(s))});if(!a.ok)throw Error("Invalid credentials");let r=await a.json();localStorage.setItem("token",r.access_token),t(r.access_token),n(null)}catch(e){n(e instanceof Error?e.message:"An unknown error occurred")}};return e?(0,a.jsx)(I,{onLogout:()=>{localStorage.removeItem("token"),t(null)}}):(0,a.jsx)(k,{onLogin:l,error:s})}}}]);